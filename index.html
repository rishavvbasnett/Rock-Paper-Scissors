<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 3: Rock Paper Scissors</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div id = "top">
        <h1 id = "header">Rock Paper Scissors shoot!</h1>
        <button id = "choose" style = "font-weight: 500">Click a button to play! </button>
    </div>

    <div id = "center">
        <div id = "scoreBoxes">
            <div id = "playerScore">Player: 0</div>
            <div id = "computerScore">Computer: 0</div>
        </div>

        <div id = "IsNow">
            <div id = "playerIsNow">N/A</div>
            <div id = "vs">vs.</div>
            <div id = "computerIsNow">N/A</div>
        </div>
        
        <div id = "choiceBoxes">
            <button id = "rock">ROCK</button>
            <button id = "paper">PAPER</button>
            <button id = "scissors">SCISSORS</button>
        </div>
    </div>

    <div class = "displayResult">
    
    </div>

    <script>

        const PlayerScore = document.querySelector("#playerScore")
        const ComputerScore = document.querySelector("#computerScore")
        const lowerDisplay =  document.querySelector(".displayResult")
        const choicebuttons = document.querySelectorAll("#choiceBoxes button");
        const playerNow = document.querySelector("#playerIsNow")
        const computerNow = document.querySelector("#computerIsNow")


        let player__score = 0;
        let computer__score = 0;

        choicebuttons.forEach((button) => {
        button.addEventListener("click", (e) => {
            choicebuttons.forEach((button => button.style.backgroundColor=""))
            e.target.style.backgroundColor = "#B8860B" ;
            const humanChoice = e.target.textContent;
            playerNow.textContent = humanChoice[0] + humanChoice.substring(1)
            playerNow.style.backgroundColor = "#B8860B"

            playRound(humanChoice);
    } ) } )
    

        let choices = ["Rock", "Paper", "Scissors"]

        function getComputerChoice() {
            let Random_choice = Math.floor(Math.random()*3);
            return choices[Random_choice].toUpperCase();
        }
        function playRound(humanChoice) {
            let computerChoice = getComputerChoice();
            computerNow.textContent = computerChoice;
            computerNow.style.backgroundColor = "#fd7514cf"

            let human = humanChoice.toLowerCase();
            let computer = computerChoice.toLowerCase();

            if ((human==="rock" && computer==="scissors") || (human==="paper" && computer==="rock") || (human==="scissors" && computer==="paper")) 
            {
                lowerDisplay.textContent = "You Win this round!"
                player__score += 1;
                let player_score = "Player: " + player__score;
                PlayerScore.textContent = player_score;
            }
            else if (computer === human) {
                lowerDisplay.textContent = "Draw!"
            }
            else {
                lowerDisplay.textContent = "Computer wins this round!"
                computer__score += 1;
                let computer_score = "Computer: " + computer__score
                ComputerScore.textContent = computer_score;
            }

             if (player__score === 5) {
                lowerDisplay.textContent = "Congrats! You've won the game."
                player__score = 0;
                computer__score = 0;
                window.location.href= "./playerWinPlayAgainPage.html"
                return

            } else if (computer__score === 5) {
                lowerDisplay.textContent = "Computer has won the game!";
                player__score = 0;
                computer__score = 0;
                window.location.href = "./computerWinPlayAgainPage.html"
            }
        }   
                


    </script>
</body>
</html>